---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by xingweihao.
--- DateTime: 2019/10/17 10:40 AM
---

---@class Anniversary19DreamCommonView
local Anniversary19DreamCommonView = class('Anniversary19DreamCommonView', function ()
	local node = CLayout:create(display.size)
	node.name = 'Game.views.anniversary19.Anniversary19DreamCommonView'
	node:setName('Anniversary19DreamCommonView')
	node:enableNodeEvents()
	return node
end)
local newI
local newImageView = display.newImageView
local newLabel = display.newLabel
local newButton = display.newButton
local newLayer = display.newLayer
local RES_DICT = {
	COMMON_BTN_WHITE_DEFAULT      = app.anniversary2019Mgr:GetResPath('ui/common/common_btn_white_default.png'),
	COMMON_BTN_ORANGE             = app.anniversary2019Mgr:GetResPath('ui/common/common_btn_orange.png'),
	WONDERLAND_EXPLORE_GO_BG_DESK = app.anniversary2019Mgr:GetResPath('ui/anniversary19/DreamCycle/wonderland_explore_go_bg_desk.png'),
	WONDERLAND_EXPLORE_GO_LABEL_TITLE= app.anniversary2019Mgr:GetResPath('ui/anniversary19/DreamCycle/wonderland_explore_go_label_title.png'),
	WONDERLAND_EXPLORE_BG_COMMON  = app.anniversary2019Mgr:GetResPath('ui/anniversary19/DreamCycle/wonderland_explore_bg_common.png'),
	WONDERLAND_EXPLORE_GO_LINE_PANEL= app.anniversary2019Mgr:GetResPath('ui/anniversary19/DreamCycle/wonderland_explore_go_line_panel.png'),
-- IMAGEFILE                     = app.anniversary2019Mgr:GetResPath('Default/ImageFile.png'),
}
local GoodNode = require("common.GoodNode")
function Anniversary19DreamCommonView:ctor( ... )
	self:InitUI()
end


function Anniversary19DreamCommonView:InitUI()

	local view = newLayer(display.cx, display.cy,{ap = display.CENTER, size = display.size})
	self:addChild(view)
	local swallowLayer = display.newButton(display.cx , display.cy , {ap = display.CENTER ,  size = display.size , enable = true})
	view:addChild(swallowLayer)
	
	local centerLayout = newLayer(643, 365,
			{ ap = display.CENTER,size = cc.size(600, 500) })
	centerLayout:setPosition(display.cx + -24, display.cy + -10)
	view:addChild(centerLayout)

	local centerBottomLayout = newLayer(326, 72,
			{ ap = display.CENTER, size = cc.size(700, 200) })
	centerLayout:addChild(centerBottomLayout)


	local centerBottomImage = newImageView(RES_DICT.WONDERLAND_EXPLORE_GO_BG_DESK, 350, 100,
			{ ap = display.CENTER, tag = 36, enable = false })
	centerBottomLayout:addChild(centerBottomImage)

	local centerTopLayout = newLayer(303, 100,
			{ ap = display.CENTER, size = cc.size(400, 400) })
	centerLayout:addChild(centerTopLayout)

	local rightLayout = newLayer(display.SAFE_R -10, display.height/2,
			{ ap = display.RIGHT_CENTER,  size = cc.size(440, 540) })
	view:addChild(rightLayout)

	local rightBgImage = newImageView(RES_DICT.WONDERLAND_EXPLORE_BG_COMMON, 220, 270,
			{ ap = display.CENTER, tag = 55, enable = false, scale9 = true, size = cc.size(440, 540) })
	rightLayout:addChild(rightBgImage)

	local titleBtn = newButton(220, 517, { ap = display.CENTER ,  n = RES_DICT.WONDERLAND_EXPLORE_GO_LABEL_TITLE, d = RES_DICT.WONDERLAND_EXPLORE_GO_LABEL_TITLE, s = RES_DICT.WONDERLAND_EXPLORE_GO_LABEL_TITLE, scale9 = true, size = cc.size(264, 64), tag = 56 })
	display.commonLabelParams(titleBtn, {text = "", fontSize = 24, color = '#e5b156'})
	rightLayout:addChild(titleBtn)

	local descrLabel = newLabel(220, 485,
			{ ap = display.CENTER_TOP, color = '#fbe6c6', text = "", fontSize = 24, tag = 57 , w = 350, hAlign = display.TAL })
	rightLayout:addChild(descrLabel)

	local rightCenterLayout = newLayer(219, 201,
			{ ap = display.CENTER,  size = cc.size(250, 200)})
	rightLayout:addChild(rightCenterLayout)

	local resultLabel = newLabel(125, 165,
			{ ap = display.CENTER, color = '#ff976b', text = "", fontSize = 20, tag = 59 ,w = 330 , hAlign = display.TAC })
	rightCenterLayout:addChild(resultLabel)

	local oneline = newImageView(RES_DICT.WONDERLAND_EXPLORE_GO_LINE_PANEL, 125, 191,
			{ ap = display.CENTER, tag = 60, enable = false })
	rightCenterLayout:addChild(oneline)

	local twoline = newImageView(RES_DICT.WONDERLAND_EXPLORE_GO_LINE_PANEL, 125, 12,
			{ ap = display.CENTER, tag = 61, enable = false })
	rightCenterLayout:addChild(twoline)

	local goodNode = GoodNode.new({goodsId = DIAMOND_ID , showAmount = true  })
	rightCenterLayout:addChild(goodNode)
	goodNode:setPosition(125, 83)
	goodNode:setOnClickScriptHandler(handler(self, self.ShowRewardsGoodsEffect))
	local leftButton = newButton(120, 56, { ap = display.CENTER ,  n = RES_DICT.COMMON_BTN_WHITE_DEFAULT, d = RES_DICT.COMMON_BTN_WHITE_DEFAULT, s = RES_DICT.COMMON_BTN_WHITE_DEFAULT, scale9 = true, size = cc.size(150, 62), tag = 63 })
	--display.commonLabelParams(leftButton, fontWithColor(14,{text = "", fontSize = 24, color = '#414146'}))
	rightLayout:addChild(leftButton)

	local rightButton = newButton(320, 56, { ap = display.CENTER ,  n = RES_DICT.COMMON_BTN_ORANGE, d = RES_DICT.COMMON_BTN_ORANGE, s = RES_DICT.COMMON_BTN_ORANGE, scale9 = true, size = cc.size(150, 62), tag = 64 })
	--display.commonLabelParams(rightButton, {text = "", fontSize = 24, color = '#414146'})
	rightLayout:addChild(rightButton)
	self:setOpacity(0)
	self:runAction(cc.FadeIn:create(0.5))
	self.viewData = {
		centerLayout            = centerLayout,
		centerBottomLayout      = centerBottomLayout,
		centerBottomImage       = centerBottomImage,
		centerTopLayout         = centerTopLayout,
		rightLayout             = rightLayout,
		rightBgImage            = rightBgImage,
		titleBtn                = titleBtn,
		descrLabel              = descrLabel,
		rightCenterLayout       = rightCenterLayout,
		resultLabel             = resultLabel,
		oneline                 = oneline,
		swallowLayer            = swallowLayer ,
		twoline                 = twoline,
		leftButton              = leftButton,
		goodNode                = goodNode,
		rightButton             = rightButton,
	}
end


function Anniversary19DreamCommonView:SetOnlyOneBtn()
	local viewData = self.viewData
	viewData.leftButton:setVisible(false)
	viewData.rightButton:setPositionX(220)
	viewData.rightButton:setVisible(true)
end

function Anniversary19DreamCommonView:SetTwoBtn()
	local viewData = self.viewData
	viewData.leftButton:setVisible(true)
	viewData.rightButton:setVisible(true)
end

function Anniversary19DreamCommonView:SetRightCenterLayoutVisible(isVisble)
	local viewData = self.viewData
	viewData.rightCenterLayout:setVisible(isVisble)
end

function Anniversary19DreamCommonView:ShowRewardsGoodsEffect(sender)
	local goodId =  sender.goodId
	app.uiMgr:ShowInformationTipsBoard({targetNode = sender, iconId = goodId, type = 1})
end

return Anniversary19DreamCommonView

